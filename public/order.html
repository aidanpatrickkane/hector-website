<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produce Selection</title>
    <style>
        .item {
            margin: 10px 0;
        }

        .price {
            margin-left: 10px;
        }

        .quantity-input {
            margin-left: 10px;
        }

        .add-to-cart {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Produce Selection</h1>

    <div id="produce-list">
        <!-- Example item -->
        <div class="item">
            <span>Iceberg Lettuce</span>
            <span class="price">2.49</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Romaine Lettuce</span>
            <span class="price">3.19</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Organic Broccoli Florets</span>
            <span class="price">4.29</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Organic Red Cabbage ($/lb)</span>
            <span class="price">1.49</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Organic Garlic ($/lb)</span>
            <span class="price">5.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Red Onion ($/lb)</span>
            <span class="price">1.79</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Bagged Yellow Onions</span>
            <span class="price">3.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Bagged Sweet Onions</span>
            <span class="price">4.29</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Vine Ripe Tomatoes ($/lb)</span>
            <span class="price">1.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Organic Grape Tomatoes</span>
            <span class="price">3.89</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Green Beans</span>
            <span class="price">6.49</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Cilantro Bunch</span>
            <span class="price">0.89</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Organic Thyme</span>
            <span class="price">2.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Slicing Cucumber</span>
            <span class="price">0.89</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Zucchini Squash ($/lb)</span>
            <span class="price">1.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Green Bell Pepper ($/lb)</span>
            <span class="price">1.79</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Red Bell Pepper</span>
            <span class="price">4.49</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
        <div class="item">
            <span>Green Jalapeno Pepper ($/lb)</span>
            <span class="price">1.99</span>
            <input class="quantity-input" type="number" placeholder="Qty" min="1" />
            <button class="add-to-cart">+</button>
        </div>
    </div>

    <h2>Shopping Cart</h2>
    <div id="cart">
        <div>Subtotal: $<span id="subtotal">0.00</span></div>
        <button onclick="checkout()">Proceed to Checkout</button>
        <button onclick="resetSubtotal()">Reset Subtotal</button>
    </div>

    <script>
        // This script will handle adding items to the cart and updating the subtotal
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.onclick = function() {
                const itemElement = this.parentElement;
                const priceElement = itemElement.querySelector('.price');
                const quantityInput = itemElement.querySelector('.quantity-input');
                const price = parseFloat(priceElement.textContent.replace('$', ''));
                const quantity = parseInt(quantityInput.value);
                
                if (!isNaN(price) && !isNaN(quantity) && quantity > 0) {
                    addToCart(price, quantity);
                    quantityInput.value = ''; // Clear the input after adding
                } else {
                    alert('Please enter a valid price.');
                }
            };
        });

        function addToCart(price, quantity) {
            const subtotalElement = document.getElementById('subtotal');
            let currentSubtotal = parseFloat(subtotalElement.textContent);
            currentSubtotal += price*quantity;
            subtotalElement.textContent = currentSubtotal.toFixed(2);
        }

        function checkout() {
            // For now, just alert the total
            const subtotalElement = document.getElementById('subtotal');
            // can probably send this to database
            window.location.href = 'checkout.html'
        }

        function resetSubtotal() {
            //resets subtotal to 0
            document.getElementById('subtotal').textContent = '0.00';
        }
    </script>
</body>
</html>
